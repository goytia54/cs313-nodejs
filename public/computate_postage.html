<html>
<head>


</head>
<body>

<h1>Postage Calculator</h1>
<form action="/getRate" method="post">
    <span>Weight of Package(oz): </span><input id="weight-input" onchange="validateWeight()" name="weight" type="number" step="0.01">
    <br><br>
    <select onchange="validateWeight()" name="dtype" id="select-dt">
        <option value="letters-stamped">Letters (Stamped)</option>
        <option value="letters-metered">Letters (Metered)</option>
    </select>
    <br><br>
    <button id="submit-button" disabled type="submit">Calculate</button>
</form>

</body>

<script>
    function validateWeight() {
        const weight = parseFloat(document.getElementById('weight-input').value);
        const deliver_type = document.getElementById('select-dt').value;
        if(isNaN(weight)){
            document.getElementById('submit-button').disabled = true
        }
        else if ((deliver_type === 'letters-stamped' || deliver_type === 'letters-metered') && weight >= 3.5){
            document.getElementById('submit-button').disabled = true;
        }
        else{
            document.getElementById('submit-button').disabled = false;
        }

    }
    
</script>
</html>